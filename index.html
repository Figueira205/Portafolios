<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Portafolio Web</title>
  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/@headlessui/react@latest/dist/headlessui.umd.js"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <style>
    .fade-in {
      opacity: 0;
      transform: translateY(20px);
      transition: opacity 0.6s ease-out, transform 0.6s ease-out;
    }
    .fade-in.visible {
      opacity: 1;
      transform: none;
    }
    body.dark {
      background-color: #18181b;
      color: #e5e7eb;
    }
    body.dark header,
    body.dark section,
    body.dark footer {
      background-color: #23232a !important;
      color: #e5e7eb !important;
    }
    body.dark .bg-white { background-color: #23232a !important; }
    body.dark .bg-gray-50 { background-color: #23232a !important; }
    body.dark .bg-gray-100 { background-color: #2d2d36 !important; }
    body.dark .text-gray-800,
    body.dark .text-gray-700,
    body.dark .text-gray-500 { color: #e5e7eb !important; }
    body.dark a { color: #60a5fa; }
    body.dark .shadow { box-shadow: 0 2px 8px rgba(0,0,0,0.7); }
    body.dark .carousel-card {
      background: #2d2d36 !important;
    }
    
    #carousel-viewport {
      width: 960px;
      max-width: 100%;
      height: 340px;
      overflow: hidden;
      position: relative;
      margin: 0 auto;
    }
    #carousel-track {
      display: flex;
      transition: transform 0.6s ease-in-out;
      will-change: transform;
      height: 340px;
    }
    .carousel-card {
      min-width: 320px;
      max-width: 320px;
      height: 320px;
      margin: 10px;
      background: #f3f4f6;
      border-radius: 1rem;
      box-shadow: 0 2px 8px rgba(0,0,0,0.08);
      display: flex;
      flex-direction: column;
      padding: 1.5rem;
      opacity: 0.7;
      z-index: 1;
      transition: box-shadow 0.4s ease, opacity 0.4s ease, transform 0.6s ease;
      transform: scale(0.92);
    }
    .carousel-card.center {
      box-shadow: 0 4px 16px rgba(0,0,0,0.12);
      opacity: 1;
      z-index: 2;
      transform: scale(1.05);
    }
  </style>
</head>
<body class="bg-gray-100 text-gray-800 font-sans">
  <header class="bg-white shadow-md sticky top-0 z-50">
    <div class="max-w-6xl mx-auto px-4 py-4 flex justify-between items-center">
      <h1 class="text-2xl font-bold">Jose Figueira</h1>
      <nav class="space-x-6 flex items-center">
        <a href="#about" class="hover:text-blue-600 transition">Sobre mí</a>
        <a href="#skills" class="hover:text-blue-600 transition">Habilidades</a>
        <a href="#projects" class="hover:text-blue-600 transition">Proyectos</a>
        <a href="#contact" class="hover:text-blue-600 transition">Contacto</a>
        <!-- Botón modo oscuro -->
        <button id="darkModeToggle" class="ml-4 text-2xl focus:outline-none" aria-label="Toggle dark mode">
          <i id="darkModeIcon" class="fas fa-moon"></i>
        </button>
      </nav>
    </div>
  </header>

  <section id="hero" class="text-center py-20 bg-blue-50 fade-in">
    <img src="yo.jpg" alt="Foto de Perfil" class="w-36 h-36 rounded-full mx-auto mb-6">
    <h2 class="text-4xl md:text-5xl font-bold mb-4">Hola, soy Jose Figueira</h2>
    <p class="text-lg md:text-xl max-w-xl mx-auto">Desarrollador web especializado en frontend con experiencia en Vue.js, personalización de módulos en Odoo para CRM y ERP, y automatizaciones con n8n, Make y asistentes virtuales usando APIs de IA.</p>
    <div class="mt-6">
      <a href="#contact" class="bg-blue-600 text-white px-6 py-2 rounded hover:bg-blue-700 transition">Contáctame</a>
    </div>
  </section>

  <section id="about" class="py-20 bg-white fade-in">
    <div class="max-w-4xl mx-auto px-4">
      <h3 class="text-3xl font-bold mb-6 text-center">Sobre mí</h3>
      <p class="text-lg leading-relaxed">Actualmente desarrollo módulos personalizados en Odoo para una empresa de logística (gestión de flotas) y un despacho de abogados (gestión documental y operaciones). Además, tengo experiencia en desarrollo web con Vue.js, integración de APIs, y diseño con herramientas como Figma, Illustrator y Photoshop. Realizo automatizaciones con n8n y Make conectando con APIs como ChatGPT, Gemini y DeepSeek.</p>
    </div>
  </section>

  <section id="skills" class="py-20 bg-gray-50 fade-in">
    <div class="max-w-5xl mx-auto px-4">
      <h3 class="text-3xl font-bold mb-10 text-center">Habilidades</h3>
      <div class="grid grid-cols-2 md:grid-cols-4 gap-6 text-center">
        <div><i class="fab fa-vuejs text-4xl text-green-500"></i><p>Vue.js</p></div>
        <div><i class="fas fa-database text-4xl text-blue-500"></i><p>SQL básico</p></div>
        <div><i class="fas fa-cogs text-4xl text-gray-700"></i><p>Odoo CRM/ERP</p></div>
        <div><i class="fas fa-magic text-4xl text-purple-600"></i><p>n8n / Make</p></div>
        <div><i class="fab fa-figma text-4xl text-pink-500"></i><p>Figma</p></div>
        <div><i class="fab fa-adobe text-4xl text-red-600"></i><p>Photoshop / Illustrator</p></div>
        <div><i class="fas fa-robot text-4xl text-yellow-500"></i><p>IA APIs (GPT, Gemini...)</p></div>
        <div><i class="fas fa-code text-4xl text-indigo-500"></i><p>Integraciones Backend</p></div>
      </div>
    </div>
  </section>

  <section id="projects" class="py-20 bg-white fade-in">
    <div class="max-w-5xl mx-auto px-4">
      <h3 class="text-3xl font-bold mb-10 text-center">Proyectos</h3>
      <div class="relative flex items-center justify-center">
        <button id="carousel-prev" class="absolute left-0 z-10 bg-blue-600 text-white rounded-full w-10 h-10 flex items-center justify-center hover:bg-blue-700 transition focus:outline-none">
          <i class="fas fa-chevron-left"></i>
        </button>
        <div id="carousel-viewport">
          <div id="carousel-track"></div>
        </div>
        <button id="carousel-next" class="absolute right-0 z-10 bg-blue-600 text-white rounded-full w-10 h-10 flex items-center justify-center hover:bg-blue-700 transition focus:outline-none">
          <i class="fas fa-chevron-right"></i>
        </button>
      </div>
    </div>
  </section>
  
 <script>
  const projects = [
    {
      title: "Módulo ERP Logística",
      desc: "Gestión avanzada de flotas en Odoo para empresa de transporte.",
      link: "",
      github: null
    },
    {
      title: "Módulo CRM Abogados",
      desc: "Automatización de gestión documental y operaciones legales en despacho jurídico.",
      link: "",
      github: null
    },
    {
      title: "Planes de Pago (Ley Segunda Oportunidad)",
      desc: "Web para crear planes de pago personalizados para personas que buscan acogerse a la Ley de Segunda Oportunidad en España.",
      link: "https://github.com/Figueira205/Planes-de-Pago",
      github: true
    },
    {
      title: "Cointhrive Mobile",
      desc: "Gestión de finanzas con monitoreo de ingresos y planes de suscripción personalizados.",
      link: "https://github.com/Figueira205/Cointhrive-Mobile",
      github: true
    },
    {
      title: "Fratelli d'Italia",
      desc: "Sitio web para pizzería italiana con menú, contacto y diseño atractivo.",
      link: "https://github.com/Figueira205/fratelli-d-italia",
      github: true
    }
  ];

  const track = document.getElementById('carousel-track');
  const cardWidth = 340; // 320px + 20px margin
  let currentIndex = 0;

  function initCarousel() {
    // Crear múltiples copias para efecto infinito perfecto
    const allProjects = [...projects, ...projects, ...projects];

    track.innerHTML = '';
    allProjects.forEach((p) => {
      const card = document.createElement('div');
      card.className = 'carousel-card';
      card.innerHTML = `
        <h4 class="text-xl font-semibold mb-2">${p.title}</h4>
        <p class="mb-4">${p.desc}</p>
        ${p.github ? `<a href="${p.link}" target="_blank" class="mt-auto inline-block bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 transition">
          Ver en GitHub <i class="fab fa-github ml-2"></i>
        </a>` : ""}
      `;
      track.appendChild(card);
    });

    // Empezar desde el segundo conjunto (índices 5-9) para tener espacio para ir hacia atrás
    currentIndex = projects.length; // Comenzar en el índice 5
    const initialOffset = (960 / 2) - (cardWidth / 2) - (currentIndex * cardWidth);
    track.style.transition = 'none';
    track.style.transform = `translateX(${initialOffset}px)`;
    
    setTimeout(highlightCenterCard, 10);
  }

  function highlightCenterCard() {
    const cards = track.querySelectorAll('.carousel-card');
    cards.forEach(card => card.classList.remove('center'));

    // Calcular qué tarjeta está más cerca del centro del viewport
    const viewportCenter = 960 / 2;
    let closestIndex = 0;
    let closestDistance = Infinity;

    cards.forEach((card, index) => {
      const cardRect = card.getBoundingClientRect();
      const trackRect = track.parentElement.getBoundingClientRect();
      const cardCenter = cardRect.left + cardRect.width / 2 - trackRect.left;
      const distance = Math.abs(cardCenter - viewportCenter);
      
      if (distance < closestDistance) {
        closestDistance = distance;
        closestIndex = index;
      }
    });

    if (cards[closestIndex]) {
      cards[closestIndex].classList.add('center');
    }
  }

  function slide(direction) {
    const totalCards = projects.length * 3; // Total de tarjetas incluyendo copias
    
    if (direction === 'next') {
      currentIndex++;
    } else {
      currentIndex--;
    }

    // Calcular nueva posición para centrar la tarjeta actual
    const newOffset = (960 / 2) - (cardWidth / 2) - (currentIndex * cardWidth);
    track.style.transition = 'transform 0.4s ease-in-out';
    track.style.transform = `translateX(${newOffset}px)`;

    // Manejar el loop infinito
    track.addEventListener('transitionend', handleInfiniteLoop, { once: true });
    
    // Destacar la tarjeta central después de la transición
    setTimeout(highlightCenterCard, 400);
  }

  function handleInfiniteLoop() {
    // Si llegamos al final del segundo conjunto, saltar al principio del segundo conjunto
    if (currentIndex >= projects.length * 2) {
      track.style.transition = 'none';
      currentIndex = projects.length;
      const newOffset = (960 / 2) - (cardWidth / 2) - (currentIndex * cardWidth);
      track.style.transform = `translateX(${newOffset}px)`;
    }
    // Si llegamos al principio del primer conjunto, saltar al final del segundo conjunto
    else if (currentIndex < projects.length) {
      track.style.transition = 'none';
      currentIndex = projects.length * 2 - 1;
      const newOffset = (960 / 2) - (cardWidth / 2) - (currentIndex * cardWidth);
      track.style.transform = `translateX(${newOffset}px)`;
    }
  }

  document.getElementById('carousel-prev').onclick = () => slide('prev');
  document.getElementById('carousel-next').onclick = () => slide('next');

  // Swipe (táctil y mouse)
  let startX = null;
  let isDragging = false;
  const trackDiv = document.getElementById('carousel-viewport');

  trackDiv.addEventListener('mousedown', e => {
    startX = e.clientX;
    isDragging = true;
    e.preventDefault();
  });

  trackDiv.addEventListener('mousemove', e => {
    if (!isDragging) return;
    e.preventDefault();
  });

  trackDiv.addEventListener('mouseup', e => {
    if (startX !== null && isDragging) {
      const diff = e.clientX - startX;
      if (Math.abs(diff) > 50) {
        if (diff > 0) slide('prev');
        else slide('next');
      }
    }
    startX = null;
    isDragging = false;
  });

  trackDiv.addEventListener('mouseleave', () => {
    startX = null;
    isDragging = false;
  });

  // Touch events
  trackDiv.addEventListener('touchstart', e => {
    startX = e.touches[0].clientX;
  });

  trackDiv.addEventListener('touchend', e => {
    if (startX !== null) {
      const endX = e.changedTouches[0].clientX;
      const diff = endX - startX;
      if (Math.abs(diff) > 50) {
        if (diff > 0) slide('prev');
        else slide('next');
      }
      startX = null;
    }
  });

  // Inicializar carrusel
  initCarousel();
</script>

  <section id="contact" class="py-20 bg-gray-50 fade-in">
    <div class="max-w-3xl mx-auto px-4 text-center">
      <h3 class="text-3xl font-bold mb-6">Contáctame</h3>
      <p class="mb-4">¿Tienes un proyecto en mente o deseas saber más? Estoy disponible para colaboraciones.</p>
      <a href="mailto:figueira205@proton.me" class="text-blue-600 font-medium">figueira205@proton.me</a>
    </div>
  </section>

  <footer class="text-center py-6 text-sm text-gray-500">
    &copy; 2025 Jose Figueira. Todos los derechos reservados.
  </footer>

  <script>
    // Animaciones fade-in al hacer scroll
    const elements = document.querySelectorAll('.fade-in');
    const observer = new IntersectionObserver(entries => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          entry.target.classList.add('visible');
          observer.unobserve(entry.target);
        }
      });
    }, { threshold: 0.1 });

    elements.forEach(el => observer.observe(el));

    // Modo oscuro
    const toggleBtn = document.getElementById('darkModeToggle');
    const icon = document.getElementById('darkModeIcon');
    const body = document.body;

    function setDarkMode(enabled) {
      if (enabled) {
        body.classList.add('dark');
        icon.classList.remove('fa-moon');
        icon.classList.add('fa-sun');
      } else {
        body.classList.remove('dark');
        icon.classList.remove('fa-sun');
        icon.classList.add('fa-moon');
      }
      localStorage.setItem('darkMode', enabled ? '1' : '0');
    }

    // Inicializar según preferencia previa
    setDarkMode(localStorage.getItem('darkMode') === '1');

    toggleBtn.addEventListener('click', () => {
      setDarkMode(!body.classList.contains('dark'));
    });
  </script>
</body>
</html>
